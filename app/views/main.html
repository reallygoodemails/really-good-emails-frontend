<h2 ng-if="vm.category">All posts in {{vm.category.name}}</h2>
<h2 ng-if="vm.tag">All posts tagged {{vm.tag.name}}</h2>

<div
  infinite-scroll="vm.loadMorePosts()"
  infinite-scroll-disabled="vm.loadingMore"
  infinite-scroll-distance="0.5"
  infinite-scroll-immediate-check="false"
>

  <div
    ag-id="gallery"
    ag-options="{direction: 'rtol'}"
    ag-grid-width="140"
    ag-gutter-size="10"
    angular-grid="vm.posts"
    class="grid list-unstyled"
  >

    <div ng-repeat="post in vm.posts">

      <div ng-if="$index % 25 === 0">
        <a href="https://litmus.com/email-testing?utm_source=really_good_emails" target="_blank">
          <img src="https://reallygoodemails.com/wp-content/uploads/litmus.png" class="grid-img">
          Optimize every email for the clients and devices your subscribers use most.
        </a>
      </div>

      <div class="post">
        <a ng-href="{{vm.getLinkURL(post)}}">
          <img
            alt="{{::post._embedded['wp:featuredmedia'][0].title.rendered}}"
            class="grid-img"
            data-actual-height="{{::post._embedded['wp:featuredmedia'][0].media_details.sizes.standard.height}}"
            data-actual-width="{{::post._embedded['wp:featuredmedia'][0].media_details.sizes.standard.width}}"
            ng-src="{{::post._embedded['wp:featuredmedia'][0].media_details.sizes.standard.source_url}}"
            sizes="(max-width: 680px) 100vw, 680px"
            ng-srcset="{{::post._embedded['wp:featuredmedia'][0].media_details.sizes.full.source_url}} 680w, {{::post._embedded['wp:featuredmedia'][0].media_details.sizes.medium.source_url}} 71w, {{::post._embedded['wp:featuredmedia'][0].media_details.sizes.large.source_url}} 182w"
          >
        </a>
      </div>

    </div>
  </div>
</div>
