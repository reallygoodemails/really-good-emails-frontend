<h2 ng-if="vm.category">Found {{vm.hits}} in <em>{{vm.category.name}}</em></h2>
<h2 ng-if="vm.tag">Found {{vm.hits}} tagged <em>{{vm.tag.name}}</em></h2>
<h2 ng-if="search.query">Found {{vm.hits}} results for <em>{{search.query}}</em></h2>

<div class="row">

<div
  class="col-xs-24 col-sm-20 col-md-20 col-lg-20"
  infinite-scroll="vm.loadMorePosts()"
  infinite-scroll-disabled="vm.loadingMore"
  infinite-scroll-immediate-check="false"
>

  <div
    ag-id="gallery"
    ag-options="vm.gridOptions"
    angular-grid="vm.posts"
    class="grid list-unstyled"
  >

      <div ng-repeat="post in vm.posts track by $index" ng-class="{post: !post.name}">
        <a ng-href="{{post.permalink | rgeUrl}}">
          <!-- TODO: use different directives depending on object type [post, category, etc.] -->
          <div class="category category--block" ng-if="post.name">{{post.name}}</div>
          <img
            alt="{{post.post_title}}"
            class="grid-img"
            data-actual-height="{{post.images.thumbnail.height}}"
            data-actual-width="{{post.images.thumbnail.width}}"
            ng-if="post.images"
            ng-src="{{post.images.thumbnail.url}}"
            ng-srcset="{{post.images.thumbnail.url}} 70w, {{post.images.medium.url}} 185w, {{post.images.large.url}} 426w"
          >
        </a>
      </div>

  </div>

</div>

<div class="hidden-xs col-sm-4 col-md-4 col-lg-4">
  <div ng-repeat="ad in vm.ads" class="advertisement" ng-style="{top: $index * 2000 + 'px'}">
    <broadstreet-zone zone-id="55755"></broadstreet-zone>
  </div>
</div>

</div>
